var ready = function() {
  $(".rate").raty({
    size     : 24,
    starOff  : "<%= asset_path('star-off.png') %>",
    starOn   : "<%= asset_path('star-on.png') %>",
    cancel : true,
    cancelOff  : "<%= asset_path('cancel-off.png') %>",
    cancelOn  : "<%= asset_path('cancel-on.png') %>",
    targetType: "number",
    targetKeep: true,
    click: function(score, evt) {
      $("#review_rate").val(score);
    }
  });
  
  $(".rate_show").raty({
    size     : 24,
    starOff  : "<%= asset_path('star-off.png') %>",
    starOn   : "<%= asset_path('star-on.png') %>",
    targetType: "number",
    readOnly  : true,
    targetKeep: true,
    score: function() {
      return $(this).attr("data-score");
    }
  });
}

$(document).on("ready page:load page:change", ready);
